{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TrackingForm = _resolveComponent(\"TrackingForm\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", null, \"My Trackings\", -1 /* HOISTED */)), _createVNode(_component_TrackingForm, {\n    onTrackingAdded: $options.fetchTrackings\n  }, null, 8 /* PROPS */, [\"onTrackingAdded\"]), $data.trackings.length ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.trackings, tracking => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: tracking.id\n    }, [_createTextVNode(_toDisplayString(tracking.description) + \" - Status: \" + _toDisplayString(tracking.status) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.updateStatus(tracking.id)\n    }, \"Mark as Delivered\", 8 /* PROPS */, _hoisted_2)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","_createVNode","_component_TrackingForm","onTrackingAdded","$options","fetchTrackings","$data","trackings","length","_hoisted_1","_Fragment","_renderList","tracking","id","_createTextVNode","_toDisplayString","description","status","onClick","$event","updateStatus","_hoisted_2","_createCommentVNode"],"sources":["C:\\Users\\Intern-62\\Desktop\\projects\\logistics\\src\\views\\TrackingsView.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h2>My Trackings</h2>\r\n      <TrackingForm @trackingAdded=\"fetchTrackings\" />\r\n      <ul v-if=\"trackings.length\">\r\n        <li v-for=\"tracking in trackings\" :key=\"tracking.id\">\r\n          {{ tracking.description }} - Status: {{ tracking.status }}\r\n          <button @click=\"updateStatus(tracking.id)\">Mark as Delivered</button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  import TrackingForm from '../components/TrackingForm.vue';\r\n  \r\n  export default {\r\n    components: { TrackingForm },\r\n    data() {\r\n      return { trackings: [] };\r\n    },\r\n    methods: {\r\n      async fetchTrackings() {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axios.get('http://localhost:5000/trackings', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        this.trackings = response.data;\r\n      },\r\n      async updateStatus(id) {\r\n        const token = localStorage.getItem('token');\r\n        await axios.patch(`http://localhost:5000/trackings/${id}`, { status: 'Delivered' }, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        this.fetchTrackings();\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchTrackings();\r\n    }\r\n  };\r\n  </script>\r\n  "],"mappings":";;EAAAA,GAAA;AAAA;mBAAA;;;uBACIC,mBAAA,CASM,c,0BARJC,mBAAA,CAAqB,YAAjB,cAAY,sBAChBC,YAAA,CAAgDC,uBAAA;IAAjCC,eAAa,EAAEC,QAAA,CAAAC;EAAc,8CAClCC,KAAA,CAAAC,SAAS,CAACC,MAAM,I,cAA1BT,mBAAA,CAKK,MATXU,UAAA,I,kBAKQV,mBAAA,CAGKW,SAAA,QARbC,WAAA,CAK+BL,KAAA,CAAAC,SAAS,EAArBK,QAAQ;yBAAnBb,mBAAA,CAGK;MAH8BD,GAAG,EAAEc,QAAQ,CAACC;QALzDC,gBAAA,CAAAC,gBAAA,CAMaH,QAAQ,CAACI,WAAW,IAAG,aAAW,GAAAD,gBAAA,CAAGH,QAAQ,CAACK,MAAM,IAAG,GAC1D,iBAAAjB,mBAAA,CAAqE;MAA5DkB,OAAK,EAAAC,MAAA,IAAEf,QAAA,CAAAgB,YAAY,CAACR,QAAQ,CAACC,EAAE;OAAG,mBAAiB,iBAPtEQ,UAAA,E;sCAAAC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}